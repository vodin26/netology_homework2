Домашнее задание к занятию «Базы данных, их типы» - `Воронин Владислав`

### Задание 1

##  Выбор СУБД для строительной компании:

Представленная компания имеет разнообразные потребности в работе с данными. 

**Для оптимального решения каждой задачи подойдут разные типы СУБД:**

**1.1 Бюджетирование, финансовые отчеты и прогнозирование рисков:**

* **Тип СУБД:**  OLAP (Online Analytical Processing) + relational database (RDBMS)
* **Почему?**: OLAP-СУБД предназначены для быстрого анализа больших объемов данных, а RDBMS - для хранения структурированной информации о проектах. 
    * **Пример**: Snowflake + PostgreSQL. Snowflake как OLAP хранит данные о проектах и позволяет выполнять сложные аналитические запросы, а PostgreSQL хранит детальную информацию о каждом проекте.

**1.1.* Хеширование:**

* **API для ускорения**: Redis или Memcached (in-memory data store)
* **Почему?**:  Redis и Memcached хранят хеш-таблицы в оперативной памяти, что значительно ускоряет их работу по сравнению с диском. 


**1.2 Лендинги и CRM:**

* **Лендинги**: NoSQL database (MongoDB, Cassandra)
* **CRM**: RDBMS +  NoSQL (PostgreSQL + Redis)
* **Почему?**:
    * NoSQL - гибкость для хранения данных о лендингах (динамически изменяемые структуры, неструктурированные данные). 
    * RDBMS (PostgreSQL) - надежность и целостность данных для CRM. Redis - кэширование часто используемых данных для ускорения работы с CRM.


**1.2.* Одна СУБД?**

* **Сложно, но можно**.  CRM требует большей стабильности и ACID-свойств, чем лендинги. 
    * MongoDB может быть хорошим выбором для хранения данных о лендингах, но для CRM PostgreSQL + Redis будет более надежным.

**1.3 Корпоративные нормы и правила:**

* **Тип СУБД**: RDBMS (PostgreSQL)
* **Почему?**:  RDBMS отлично подходит для хранения структурированной информации с связями между объектами (нормами, правилами, обучающим материалом).


**1.3.* Совместимость с другими СУБД?**

* **Да**. Можно использовать PostgreSQL из задачи 1.1 или 1.2 для хранения корпоративных норм и правил.



**1.4 Логистика и маршрутизация:**

* **Тип СУБД**: Graph database (Neo4j, JanusGraph)
* **Почему?**:  Graph databases идеально подходят для работы с связями между объектами (курьерами, маршрутами, материалами).


**1.4.* Связь с отделами закупок:**

* **Рекомендуется отдельная СУБД**
* **Пример**: PostgreSQL - для логистики и Redis - кэш. Отдел закупок может использовать собственные NoSQL базы данных (MongoDB) для управления заказами, поставщиками, ценами и т.д. 

**1.5.* Одинаковая СУБД для всех задач?**

* **Сложно, но можно**.  
    * Неэффективно: разные типы данных требуют разных типов СУБД.
    * Могут возникнуть проблемы с масштабированием, производительностью и безопасностью.


**Итог:**

Для строительной компании лучше всего подойдет комплексный подход с использованием нескольких СУБД, каждая из которых специализируется на определенной области.  


### Задание 2

##  Транзакция пополнения баланса счета телефона:

**Шаги для успешного завершения транзакции:**

1. **Инициация запроса:** Пользователь выбирает опцию "Пополнение баланса" и вводит желаемую сумму через мобильное приложение, сайт оператора или с помощью USSD-команды.
2. **Аутентификация пользователя:** Система проверяет данные пользователя (номер телефона, логин, пароль) для подтверждения личности. 
3. **Определение метода оплаты:** Пользователь выбирает способ оплаты: банковская карта, электронные деньги, кошелек оператора и т.д.
4. **Обработка платежа:** Сумма переводится с выбранного счета пользователя к счету оператора мобильной связи.  Банк обрабатывает транзакцию через платежную систему. 
5. **Обновление баланса:** Оператор мобильной связи получает информацию о платеже и обновляет баланс пользователя на соответствующую сумму.
6. **Подтверждение операции:** Пользователю отправляется уведомление об успешном пополнении баланса со счётом оператора, включая новую сумму остатка.

**2.1.* Автоплатёж:** 

В случае автоплатежа  шаги будут немного отличаться:


1. **Инициация запроса:** Платежная система (банк) отправляет запрос на автоплатёж в соответствии с настройками пользователя и датой оплаты.
2. **Аутентификация пользователя:** Система проверяет данные пользователя для подтверждения личности, но возможно уже прошедшая авторизация  при регистрации системы платежа.
3. **Определение метода оплаты:** Оператор мобильной связи предоставляет информацию о необходимом счёте (банк) и сумме транзакции.
4. **Обработка платежа:** Банк обрабатывает транзакцию, используя сохранённые данные пользователя для авторизации. 
5. **Обновление баланса:** Оператор мобильной связи получает информацию о платеже от банка и обновляет баланс пользователя на соответствующую сумму.
6. **Подтверждение операции:** Пользователю отправляется уведомление об успешном пополнении баланса со счётом оператора, включая новую сумму остатка.

### Задание 3

## Преимущества SQL-систем над NoSQL:

1. **Структурированные данные:** SQL идеально подходит для хранения данных в строгой структурированной форме с четко определенными типами данных, связями между таблицами и ограничениями на данные.  Это обеспечивает целостность и консистенцию данных.
2. **ACID-соответствие:** SQL-системы гарантируют выполнение ACID- свойств (Atomicity, Consistency, Isolation, Durability), что критически важно для финансовых транзакций, учетных систем и других приложений, где требуется неизменность и достоверность данных.  NoSQL базы данных в большинстве случаев не полностью поддерживают эти свойства.
3. **Сложные запросы:** SQL предоставляет мощный язык запросов с поддержкой различных типов JOIN-ов, subqueries, aggregate functions и другими инструментами для сложной обработки и анализа больших объемов данных. 
4. **Стандартизация и совместимость:** SQL является стандартом индустрии, что обеспечивает широкий выбор инструментов, библиотек, обучающих ресурсов и совместимость между различными системами управления базами данных.
5. **Устойчивость и надежность:** Проверенные временем SQL-системы  (PostgreSQL, MySQL) зарекомендовавшие себя как надежные и стабильные решения с долгим сроком поддержки и развитием сообщества.

## Преимущества NewSQL систем:


NewSQL системы стремятся объединить преимущества SQL и NoSQL:

* **ACID-соответствие + масштабируемость:**  NewSQL  системы обеспечивают ACID-совместимость, характерную для SQL,  при этом обладают возможностями горизонтального масштабирования, свойственными NoSQL.
* **Улучшенная производительность:** Новые архитектуры NewSQL часто используют механизмы кеширования, распределения нагрузки и параллельного выполнения запросов, что повышает их производительность. 
* **Поддержка современных технологий:**  NewSQL  часто интегрируются с облачными решениями (AWS, Azure), контейнерами (Docker) и новыми технологиями управления данными.


### Задание 4

## Выбор СУБД и модели распределенных вычислений для 1000 машин:

**Критерий выбора:**  Важным фактором является **объем данных**, **требуемая производительность вычислений** и **необходимость ACID-соответствия**. 

**Рекомендации:**

1. **СУБД:** В данном случае, с учетом огромного объема данных и необходимости высокой производительности вычислений,  лучшим выбором станет **NoSQL база данных**, которая  отличается:
    * **Масштабируемостью:** Возможность горизонтального масштабирования, расширение кластера путем добавления новых машин. 
    * **Высокой производительностью:** Новые архитектуры NoSQL, как Apache Cassandra или ScyllaDB, оптимизированы для работы с большими объемами данных и обеспечивают высокую пропускную способность.

2. **Модель распределенных вычислений:** 

   *  **Share-nothing architecture (многие данные, отдельные узлы):** Каждой машине выделяется свой набор данных и процессор.  
       * **Преимущества:** Отличная масштабируемость,  способность к быстрому восстановлению после сбоя отдельных машин.  
       * **Недостатки:** Возможность  увеличения задержек при запросах с несколькими узлами.

   * **Distributed shared-nothing architecture (многие данные, отдельные узлы и общий процессор):** 
       * **Преимущества:** Позволяет использовать ресурсы всех компьютеров кластера для обработки запросов, что может быть  более эффективным, чем  "Share-nothing". 
       * **Недостатки:** Може стать сложнейшим для реализации.

   * **Распределенные хранилища:**  (например, Apache HDFS)

    * **Преимущества:**  Отлично подходит для хранения огромных объемов данных и работы с ними в различных приложениях (аналитика, машинное обучение).
    * **Недостатки:** Требует дополнительной инфраструктуры и может быть сложной в управлении.


**Объяснение:**

Для обработки больших данных на кластере из 1000 машин  NoSQL базы данных, как Cassandra или ScyllaDB, с моделью распределенных вычислений типа Share-nothing architecture наиболее  подходят:

* **Высокая производительность:**   
*  **Масштабируемость:**  Легко масштабируется путем добавления новых машин к кластеру. 
* **Надежность:** Сбой одной машины не приводит к полному срыву работы системы,  

Распределенные хранилища (HDFS) могут быть использованы для хранения данных, а NoSQL база данных - для управления ими и вычислений на основе этих данных.

